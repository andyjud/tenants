class CustomTenantStorage(TenantFileSystemStorage):
    tenants_dir = 'tenants'
    
    def __init__(self, schema_name, *args, **kwargs):
        self.schema_name = schema_name
        kwargs['location'] = settings.MEDIA_ROOT / self.tenants_dir / schema_name
        super().__init__(*args, **kwargs)
        
    def url(self, name):
        return f'{settings.MEDIA_URL}{self.tenants_dir}/{self.schema_name}/{name}'
